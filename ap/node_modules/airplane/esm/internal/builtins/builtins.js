export const convertResourceAliasToID = (alias) => {
    var _a, _b;
    const resources = JSON.parse((_a = process.env.AIRPLANE_RESOURCES) !== null && _a !== void 0 ? _a : "{}");
    const resourceVersion = (_b = process.env.AIRPLANE_RESOURCES_VERSION) !== null && _b !== void 0 ? _b : null;
    if (!resourceVersion || resourceVersion !== "2") {
        throw new Error("resources version unsupported");
    }
    if (!(alias in resources)) {
        throw new Error(`resource alias ${alias} is unknown (have you attached the resource?)`);
    }
    if (!("id" in resources[alias])) {
        throw new Error("unexpected resources env var format");
    }
    return resources[alias].id;
};
