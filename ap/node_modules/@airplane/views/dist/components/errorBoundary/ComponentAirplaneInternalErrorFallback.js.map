{"version":3,"file":"ComponentAirplaneInternalErrorFallback.js","sources":["../../../src/components/errorBoundary/ComponentAirplaneInternalErrorFallback.tsx"],"sourcesContent":["import { useState } from \"react\";\n\nimport { ButtonComponent } from \"components/button/Button\";\nimport { CodeComponent } from \"components/code/Code\";\nimport { DialogComponent } from \"components/dialog/Dialog\";\nimport { HeadingComponent } from \"components/heading/Heading\";\nimport { StackComponent } from \"components/stack/Stack\";\nimport { getIsLocalDev } from \"getIsLocalDev\";\nimport { useToggleModal } from \"message/useToggleModal\";\n\nimport { ComponentErrorState } from \"./ComponentErrorState\";\nimport { useStyles as useErrorModalStyles } from \"./ErrorModal.styles\";\n\ntype ComponentAirplaneInternalErrorFallbackProps = {\n  errorMessage: string;\n  componentName?: string;\n  errorID: string;\n};\n\nexport const ComponentAirplaneInternalErrorFallback = ({\n  errorMessage,\n  componentName,\n  errorID,\n}: ComponentAirplaneInternalErrorFallbackProps) => {\n  const isLocalDev = getIsLocalDev();\n  const [opened, setOpened] = useState(isLocalDev);\n  useToggleModal(setOpened, errorID);\n\n  return (\n    <>\n      <AirplaneInternalErrorModal\n        errorMessage={errorMessage}\n        componentName={componentName}\n        opened={opened}\n        setOpened={setOpened}\n      />\n      <ComponentErrorState\n        componentName={componentName}\n        onClick={() => setOpened(true)}\n      />\n    </>\n  );\n};\n\nexport type AirplaneInternalErrorModalProps = {\n  errorMessage: string;\n  componentName?: string;\n  opened: boolean;\n  setOpened: (opened: boolean) => void;\n};\n\nexport const AirplaneInternalErrorModal = ({\n  errorMessage,\n  componentName,\n  opened,\n  setOpened,\n}: AirplaneInternalErrorModalProps) => {\n  const { classes } = useErrorModalStyles();\n  return (\n    <DialogComponent\n      opened={opened}\n      onClose={() => setOpened(false)}\n      title={\n        <HeadingComponent level={4} className={classes.title}>\n          An internal error has occurred{\" \"}\n          {componentName ? ` in the ${componentName} component` : \"\"}\n        </HeadingComponent>\n      }\n      size=\"100%\"\n      classNames={{ modal: classes.modal }}\n    >\n      <StackComponent>\n        <StackComponent>\n          <CodeComponent language=\"none\" copyLabel=\"Copy error\">\n            {errorMessage}\n          </CodeComponent>\n\n          <StackComponent spacing=\"sm\" direction=\"row\" justify=\"end\">\n            <ButtonComponent\n              href=\"https://www.airplane-status.com/\"\n              size=\"xs\"\n              preset=\"tertiary\"\n              disableFocusRing\n            >\n              Check status page\n            </ButtonComponent>\n            <ButtonComponent\n              href=\"mailto:support@airplane.dev\"\n              size=\"xs\"\n              disableFocusRing\n            >\n              Contact support\n            </ButtonComponent>\n          </StackComponent>\n        </StackComponent>\n      </StackComponent>\n    </DialogComponent>\n  );\n};\n"],"names":["ComponentAirplaneInternalErrorFallback","errorMessage","componentName","errorID","isLocalDev","getIsLocalDev","opened","setOpened","useState","useToggleModal","AirplaneInternalErrorModal","classes","useErrorModalStyles","title","modal"],"mappings":";;;;;;;;;;;AAmBO,MAAMA,yCAAyCA,CAAC;AAAA,EACrDC;AAAAA,EACAC;AAAAA,EACAC;AAC2C,MAAM;AACjD,QAAMC,aAAaC;AACnB,QAAM,CAACC,QAAQC,SAAS,IAAIC,SAASJ,UAAU;AAC/CK,iBAAeF,WAAWJ,OAAO;AAEjC,SAEI,qBAAA,UAAA,EAAA,UAAA;AAAA,IAAA,oBAAC,4BACC,EAAA,cACA,eACA,QACA,WAAqB;AAAA,wBAEtB,qBACC,EAAA,eACA,SAAS,MAAMI,UAAU,IAAI,GAAE;AAAA,EAEnC,EAAA,CAAA;AAEJ;AASO,MAAMG,6BAA6BA,CAAC;AAAA,EACzCT;AAAAA,EACAC;AAAAA,EACAI;AAAAA,EACAC;AAC+B,MAAM;AAC/B,QAAA;AAAA,IAAEI;AAAAA,MAAYC,UAAoB;AACxC,SACG,oBAAA,iBAAA,EACC,QACA,SAAS,MAAML,UAAU,KAAK,GAC9B,4BACG,kBAAiB,EAAA,OAAO,GAAG,WAAWI,QAAQE,OAAM,UAAA;AAAA,IAAA;AAAA,IACpB;AAAA,IAC9BX,gBAAiB,WAAUA,aAAc,eAAc;AAAA,EAC1D,EAAA,CAAA,GAEF,MAAK,QACL,YAAY;AAAA,IAAEY,OAAOH,QAAQG;AAAAA,EAAAA,GAE7B,UAAA,oBAAC,gBACC,EAAA,UAAA,qBAAC,gBACC,EAAA,UAAA;AAAA,IAAA,oBAAC,eAAc,EAAA,UAAS,QAAO,WAAU,cACtCb,UACH,cAAA;AAAA,yBAEC,gBAAe,EAAA,SAAQ,MAAK,WAAU,OAAM,SAAQ,OACnD,UAAA;AAAA,MAAC,oBAAA,iBAAA,EACC,MAAK,oCACL,MAAK,MACL,QAAO,YACP,kBAAgB,MAAA,UAGlB,oBAAA,CAAA;AAAA,MACA,oBAAC,mBACC,MAAK,+BACL,MAAK,MACL,kBAAgB,MAAA,UAGlB,kBAAA,CAAA;AAAA,IAAA,GACF;AAAA,EAAA,GACF,GACF,EACF,CAAA;AAEJ;"}