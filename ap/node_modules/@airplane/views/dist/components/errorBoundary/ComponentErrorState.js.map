{"version":3,"file":"ComponentErrorState.js","sources":["../../../src/components/errorBoundary/ComponentErrorState.tsx"],"sourcesContent":["import { createStyles } from \"@mantine/core\";\n\nimport { ExclamationTriangleIconMini } from \"components/icon\";\nimport { Label } from \"components/text/Text\";\nimport { sendViewMessage } from \"message/sendViewMessage\";\n\nconst useComponentErrorStateStyles = createStyles((theme) => {\n  return {\n    componentError: {\n      cursor: \"pointer\",\n      backgroundColor: theme.colors.red[0],\n      borderRadius: theme.radius.md,\n      padding: \"4px 10px\",\n      color: theme.colors.red[6],\n      display: \"inline-flex\",\n      flexDirection: \"row\",\n      alignItems: \"start\",\n      animation: \"border-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite\",\n      \"@keyframes border-pulse\": {\n        \"0%\": {\n          border: `1px solid ${theme.colors.red[5]}`,\n        },\n        \"50%\": {\n          border: `1px solid ${theme.colors.red[3]}`,\n        },\n        \"100%\": {\n          border: `1px solid ${theme.colors.red[5]}`,\n        },\n      },\n      transition: \"background-color 0.2s\",\n      \"&:hover\": { backgroundColor: theme.colors.red[1] },\n    },\n    warningIcon: {\n      // margin top with align items start makes the icon align with the text better than align items center\n      marginTop: 3,\n      marginRight: 6,\n      animation: \"warning-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite\",\n      \"@keyframes warning-pulse\": {\n        \"0%\": {\n          color: theme.colors.red[6],\n        },\n        \"50%\": {\n          color: theme.colors.red[4],\n        },\n        \"100%\": {\n          color: theme.colors.red[6],\n        },\n      },\n    },\n    runErrorMessage: {\n      fontWeight: 500,\n    },\n  };\n});\n\nexport type ComponentErrorStateProps = {\n  componentName?: string;\n  onClick: () => void;\n};\n\nexport const ComponentErrorState = ({\n  componentName,\n  onClick,\n}: ComponentErrorStateProps) => {\n  const { classes } = useComponentErrorStateStyles();\n  return (\n    <div className={classes.componentError} onClick={onClick}>\n      <ExclamationTriangleIconMini className={classes.warningIcon} />\n      <Label color=\"red\">Error in {componentName ?? \"component\"}</Label>\n    </div>\n  );\n};\n\nexport type RunErrorComponentErrorStateProps = {\n  componentName?: string;\n  taskSlug?: string;\n  runID?: string;\n};\n\n/**\n * Displayed in the view when task-backed components fail with run errors.\n */\nexport const RunErrorComponentErrorState = ({\n  componentName,\n  taskSlug,\n  runID,\n}: RunErrorComponentErrorStateProps) => {\n  const { classes } = useComponentErrorStateStyles();\n  return (\n    <div\n      className={classes.componentError}\n      onClick={() => {\n        sendViewMessage({\n          type: \"debug_panel\",\n          open: true,\n          activeTab: \"activity\",\n          runID,\n        });\n      }}\n    >\n      <ExclamationTriangleIconMini className={classes.warningIcon} />\n      <div>\n        <Label color=\"red\" className={classes.runErrorMessage}>\n          {getRunErrorMessage(taskSlug)}\n        </Label>\n        <Label color=\"red\">Unable to load {componentName ?? \"component\"}</Label>\n      </div>\n    </div>\n  );\n};\n\nexport const getRunErrorMessage = (taskSlug?: string) => {\n  return `Error: Run failed for ${taskSlug ?? \"task\"}`;\n};\n"],"names":["useComponentErrorStateStyles","createStyles","theme","componentError","cursor","backgroundColor","colors","red","borderRadius","radius","md","padding","color","display","flexDirection","alignItems","animation","border","transition","warningIcon","marginTop","marginRight","runErrorMessage","fontWeight","ComponentErrorState","componentName","onClick","classes","RunErrorComponentErrorState","taskSlug","runID","type","open","activeTab","getRunErrorMessage"],"mappings":";;;;;AAMA,MAAMA,+BAA+BC,aAAcC,CAAU,UAAA;AACpD,SAAA;AAAA,IACLC,gBAAgB;AAAA,MACdC,QAAQ;AAAA,MACRC,iBAAiBH,MAAMI,OAAOC,IAAI,CAAC;AAAA,MACnCC,cAAcN,MAAMO,OAAOC;AAAAA,MAC3BC,SAAS;AAAA,MACTC,OAAOV,MAAMI,OAAOC,IAAI,CAAC;AAAA,MACzBM,SAAS;AAAA,MACTC,eAAe;AAAA,MACfC,YAAY;AAAA,MACZC,WAAW;AAAA,MACX,2BAA2B;AAAA,QACzB,MAAM;AAAA,UACJC,QAAS,aAAYf,MAAMI,OAAOC,IAAI,CAAC,CAAE;AAAA,QAC3C;AAAA,QACA,OAAO;AAAA,UACLU,QAAS,aAAYf,MAAMI,OAAOC,IAAI,CAAC,CAAE;AAAA,QAC3C;AAAA,QACA,QAAQ;AAAA,UACNU,QAAS,aAAYf,MAAMI,OAAOC,IAAI,CAAC,CAAE;AAAA,QAC3C;AAAA,MACF;AAAA,MACAW,YAAY;AAAA,MACZ,WAAW;AAAA,QAAEb,iBAAiBH,MAAMI,OAAOC,IAAI,CAAC;AAAA,MAAE;AAAA,IACpD;AAAA,IACAY,aAAa;AAAA;AAAA,MAEXC,WAAW;AAAA,MACXC,aAAa;AAAA,MACbL,WAAW;AAAA,MACX,4BAA4B;AAAA,QAC1B,MAAM;AAAA,UACJJ,OAAOV,MAAMI,OAAOC,IAAI,CAAC;AAAA,QAC3B;AAAA,QACA,OAAO;AAAA,UACLK,OAAOV,MAAMI,OAAOC,IAAI,CAAC;AAAA,QAC3B;AAAA,QACA,QAAQ;AAAA,UACNK,OAAOV,MAAMI,OAAOC,IAAI,CAAC;AAAA,QAC3B;AAAA,MACF;AAAA,IACF;AAAA,IACAe,iBAAiB;AAAA,MACfC,YAAY;AAAA,IACd;AAAA,EAAA;AAEJ,CAAC;AAOM,MAAMC,sBAAsBA,CAAC;AAAA,EAClCC;AAAAA,EACAC;AACwB,MAAM;AACxB,QAAA;AAAA,IAAEC;AAAAA,MAAY3B,6BAA6B;AACjD,SACG,qBAAA,OAAA,EAAI,WAAW2B,QAAQxB,gBAAgB,SACtC,UAAA;AAAA,IAAC,oBAAA,6BAAA,EAA4B,WAAWwB,QAAQR,YAAY,CAAA;AAAA,IAC5D,qBAAC,OAAM,EAAA,OAAM,OAAM,UAAA;AAAA,MAAA;AAAA,MAAUM,iBAAiB;AAAA,IAAA,GAAY;AAAA,EAC5D,EAAA,CAAA;AAEJ;AAWO,MAAMG,8BAA8BA,CAAC;AAAA,EAC1CH;AAAAA,EACAI;AAAAA,EACAC;AACgC,MAAM;AAChC,QAAA;AAAA,IAAEH;AAAAA,MAAY3B,6BAA6B;AACjD,8BACG,OACC,EAAA,WAAW2B,QAAQxB,gBACnB,SAAS,MAAM;AACG,oBAAA;AAAA,MACd4B,MAAM;AAAA,MACNC,MAAM;AAAA,MACNC,WAAW;AAAA,MACXH;AAAAA,IAAAA,CACD;AAAA,EAGH,GAAA,UAAA;AAAA,IAAC,oBAAA,6BAAA,EAA4B,WAAWH,QAAQR,YAAY,CAAA;AAAA,yBAC3D,OACC,EAAA,UAAA;AAAA,MAAC,oBAAA,OAAA,EAAM,OAAM,OAAM,WAAWQ,QAAQL,iBACnCY,UAAAA,mBAAmBL,QAAQ,EAC9B,CAAA;AAAA,MACA,qBAAC,OAAM,EAAA,OAAM,OAAM,UAAA;AAAA,QAAA;AAAA,QAAgBJ,iBAAiB;AAAA,MAAA,GAAY;AAAA,IAAA,GAClE;AAAA,EACF,EAAA,CAAA;AAEJ;AAEaS,MAAAA,qBAAqBA,CAACL,aAAsB;AAC/C,SAAA,yBAAwBA,YAAY,MAAO;AACrD;"}