{"version":3,"file":"useClickOutside.js","sources":["../../../src/components/table/useClickOutside.tsx"],"sourcesContent":["// This file is taken from https://github.com/mantinedev/mantine/blob/master/src/mantine-hooks/src/use-click-outside/use-click-outside.ts\n// with some small bug fixes and simplifications.\n\nimport { useEffect, useRef } from \"react\";\n\nconst DEFAULT_EVENTS = [\"mousedown\", \"touchstart\"];\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function useClickOutside<T extends HTMLElement = any>(\n  handler: () => void,\n  events?: string[] | null,\n) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const listener = (event: any) => {\n      const { target } = event ?? {};\n      if (\n        ref.current &&\n        !ref.current.contains(target) &&\n        !target?.hasAttribute(\"data-ignore-outside-clicks\") &&\n        // We don't want clicking a select item to register as a \"click outside\"\n        !target?.classList.contains(\"airplane-Select-item\")\n      ) {\n        handler();\n      }\n    };\n\n    (events || DEFAULT_EVENTS).forEach((fn) =>\n      document.addEventListener(fn, listener),\n    );\n\n    return () => {\n      (events || DEFAULT_EVENTS).forEach((fn) =>\n        document.removeEventListener(fn, listener),\n      );\n    };\n  }, [ref, handler, events]);\n\n  return ref;\n}\n"],"names":["DEFAULT_EVENTS","useClickOutside","handler","events","ref","useRef","useEffect","listener","event","target","current","contains","hasAttribute","classList","forEach","fn","document","addEventListener","removeEventListener"],"mappings":";AAKA,MAAMA,iBAAiB,CAAC,aAAa,YAAY;AAGjCC,SAAAA,gBACdC,SACAC,QACA;AACA,QAAMC,MAAMC;AAEZC,YAAU,MAAM;AAERC,UAAAA,WAAWA,CAACC,UAAe;AACzB,YAAA;AAAA,QAAEC;AAAAA,MAAAA,IAAWD,SAAS,CAAA;AAE1BJ,UAAAA,IAAIM,WACJ,CAACN,IAAIM,QAAQC,SAASF,MAAM,KAC5B,EAACA,iCAAQG,aAAa;AAAA,MAEtB,EAACH,iCAAQI,UAAUF,SAAS,0BAC5B;AACQ;MACV;AAAA,IAAA;AAGDR,KAAAA,UAAUH,gBAAgBc,QAASC,CAAAA,OAClCC,SAASC,iBAAiBF,IAAIR,QAAQ,CACxC;AAEA,WAAO,MAAM;AACVJ,OAAAA,UAAUH,gBAAgBc,QAASC,CAAAA,OAClCC,SAASE,oBAAoBH,IAAIR,QAAQ,CAC3C;AAAA,IAAA;AAAA,EAED,GAAA,CAACH,KAAKF,SAASC,MAAM,CAAC;AAElBC,SAAAA;AACT;"}