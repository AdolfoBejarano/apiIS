{"version":3,"file":"RequestDialogProvider.js","sources":["../../../src/components/requestDialog/RequestDialogProvider.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport * as React from \"react\";\n\nimport { DefaultParams } from \"client\";\nimport { RequestRunnableDialog } from \"components/requestDialog/RequestRunnableDialog\";\n\ntype RequestDialogContextType = {\n  setState: (state: {\n    params: DefaultParams;\n    taskSlug?: string;\n    runbookSlug?: string;\n    opened: boolean;\n  }) => void;\n};\n\nconst defaultContext: RequestDialogContextType = {\n  setState: () => {\n    // Empty\n  },\n};\n\nexport const RequestDialogContext = React.createContext(defaultContext);\n\nexport const RequestDialogProvider = ({\n  children,\n}: {\n  children: React.ReactNode;\n}) => {\n  const [state, setState] = useState<{\n    params: DefaultParams;\n    taskSlug?: string;\n    runbookSlug?: string;\n    opened: boolean;\n  }>({ params: {}, opened: false });\n  const { params, taskSlug, runbookSlug, opened } = state;\n\n  return (\n    <RequestDialogContext.Provider\n      value={{\n        setState,\n      }}\n    >\n      {children}\n      {(taskSlug || runbookSlug) && (\n        <RequestRunnableDialog\n          opened={opened}\n          onSubmit={() => setState({ ...state, opened: false })}\n          onClose={() => setState({ ...state, opened: false })}\n          taskSlug={taskSlug}\n          runbookSlug={runbookSlug}\n          paramValues={params || {}}\n        />\n      )}\n    </RequestDialogContext.Provider>\n  );\n};\n"],"names":["defaultContext","setState","RequestDialogContext","createContext","RequestDialogProvider","children","state","useState","params","opened","taskSlug","runbookSlug"],"mappings":";;;;AAeA,MAAMA,iBAA2C;AAAA,EAC/CC,UAAUA,MAAM;AAAA,EACd;AAEJ;AAEaC,MAAAA,uBAA6BC,sBAAAA,cAAcH,cAAc;AAE/D,MAAMI,wBAAwBA,CAAC;AAAA,EACpCC;AAGF,MAAM;AACJ,QAAM,CAACC,OAAOL,QAAQ,IAAIM,SAKvB;AAAA,IAAEC,QAAQ,CAAC;AAAA,IAAGC,QAAQ;AAAA,EAAA,CAAO;AAC1B,QAAA;AAAA,IAAED;AAAAA,IAAQE;AAAAA,IAAUC;AAAAA,IAAaF;AAAAA,EAAWH,IAAAA;AAElD,SACG,qBAAA,qBAAqB,UAArB,EACC,OAAO;AAAA,IACLL;AAAAA,EAGDI,GAAAA,UAAAA;AAAAA,IAAAA;AAAAA,KACCK,YAAYC,gBACZ,oBAAC,yBACC,QACA,UAAU,MAAMV,SAAS;AAAA,MAAE,GAAGK;AAAAA,MAAOG,QAAQ;AAAA,IAAA,CAAO,GACpD,SAAS,MAAMR,SAAS;AAAA,MAAE,GAAGK;AAAAA,MAAOG,QAAQ;AAAA,IAAA,CAAO,GACnD,UACA,aACA,aAAaD,UAAU,CAE1B,EAAA,CAAA;AAAA,EACH,EAAA,CAAA;AAEJ;"}