{"version":3,"file":"Switch.js","sources":["../../../src/components/switch/Switch.tsx"],"sourcesContent":["import { Switch as MantineSwitch, createStyles } from \"@mantine/core\";\nimport * as React from \"react\";\nimport { ChangeEvent, forwardRef, useCallback } from \"react\";\n\nimport { ComponentErrorBoundary } from \"components/errorBoundary/ComponentErrorBoundary\";\nimport { useSwitchState } from \"state/components/boolean/useBooleanState\";\nimport { useRegisterFormInput } from \"state/components/form/useRegisterFormInput\";\nimport { useInput } from \"state/components/input/useInput\";\n\nimport { SwitchComponentProps, SwitchProps } from \"./Switch.types\";\nimport { useComponentId } from \"../../state/components/useId\";\n\nexport const useStyles = createStyles((theme) => ({\n  label: { color: theme.colors.gray[7] },\n}));\n\n/** Presentational switch component */\nexport const SwitchComponent = forwardRef(\n  (\n    { width, ...props }: SwitchComponentProps,\n    ref: React.Ref<HTMLInputElement>,\n  ) => {\n    const { classes } = useStyles();\n    const propsOnChange = props.onChange;\n    const onChange = useCallback(\n      (e: ChangeEvent<HTMLInputElement>) => {\n        propsOnChange?.(e.currentTarget.checked);\n      },\n      [propsOnChange],\n    );\n    return (\n      <MantineSwitch\n        classNames={classes}\n        {...props}\n        ref={ref}\n        onChange={onChange}\n      />\n    );\n  },\n);\nSwitchComponent.displayName = \"SwitchComponent\";\n\nexport const Switch = forwardRef(\n  (props: SwitchProps, ref: React.Ref<HTMLInputElement>) => (\n    <ComponentErrorBoundary componentName={DISPLAY_NAME}>\n      <SwitchWithoutRef {...props} innerRef={ref} />\n    </ComponentErrorBoundary>\n  ),\n);\nconst DISPLAY_NAME = \"Switch\";\nSwitch.displayName = DISPLAY_NAME;\n\n/** Exported for documentation purposes */\nexport const SwitchWithoutRef = (\n  props: SwitchProps & { innerRef: React.Ref<HTMLInputElement> },\n) => {\n  const id = useComponentId(props.id);\n  const { state, dispatch } = useSwitchState(id, {\n    initialState: {\n      value: props.checked ?? props.defaultChecked,\n      disabled: props.disabled ?? props.defaultDisabled,\n    },\n  });\n  const { inputProps } = useInput(props, state, dispatch, (v: boolean) => v);\n\n  const { value: checked, ...restInputProps } = inputProps;\n  const { innerRef, validate: _, onChange: __, ...restProps } = props;\n  useRegisterFormInput(id, \"switch\");\n  return (\n    <SwitchComponent\n      checked={checked}\n      ref={innerRef}\n      {...restInputProps}\n      {...restProps}\n    />\n  );\n};\n"],"names":["useStyles","createStyles","theme","label","color","colors","gray","SwitchComponent","width","props","ref","classes","propsOnChange","onChange","useCallback","e","currentTarget","checked","MantineSwitch","displayName","Switch","DISPLAY_NAME","SwitchWithoutRef","id","useComponentId","state","dispatch","useSwitchState","initialState","value","defaultChecked","disabled","defaultDisabled","inputProps","useInput","v","restInputProps","innerRef","validate","_","__","restProps","useRegisterFormInput"],"mappings":";;;;;;;;AAYaA,MAAAA,YAAYC,aAAcC,CAAW,WAAA;AAAA,EAChDC,OAAO;AAAA,IAAEC,OAAOF,MAAMG,OAAOC,KAAK,CAAC;AAAA,EAAE;AACvC,EAAE;AAGWC,MAAAA,6CACX,CACE;AAAA,EAAEC;AAAAA,EAAO,GAAGC;AAA4B,GACxCC,QACG;AACG,QAAA;AAAA,IAAEC;AAAAA,MAAYX,UAAU;AAC9B,QAAMY,gBAAgBH,MAAMI;AACtBA,QAAAA,WAAWC,YACf,CAACC,MAAqC;AACpBA,mDAAAA,EAAEC,cAAcC;AAAAA,EAAO,GAEzC,CAACL,aAAa,CAChB;AACA,6BACGM,UACC,EAAA,YAAYP,SACZ,GAAIF,OACJ,KACA,SACA,CAAA;AAEN,CACF;AACAF,gBAAgBY,cAAc;AAEvB,MAAMC,SACX,2BAAA,CAACX,OAAoBC,4BAClB,wBAAuB,EAAA,eAAeW,cACrC,UAAA,oBAAC,oBAAqBZ,GAAAA,OAAO,UAAUC,IAAAA,CAAI,GAC7C,CAEJ;AACA,MAAMW,eAAe;AACrBD,OAAOD,cAAcE;AAGRC,MAAAA,mBAAmBA,CAC9Bb,UACG;AACGc,QAAAA,KAAKC,eAAef,MAAMc,EAAE;AAC5B,QAAA;AAAA,IAAEE;AAAAA,IAAOC;AAAAA,EAAAA,IAAaC,eAAeJ,IAAI;AAAA,IAC7CK,cAAc;AAAA,MACZC,OAAOpB,MAAMQ,WAAWR,MAAMqB;AAAAA,MAC9BC,UAAUtB,MAAMsB,YAAYtB,MAAMuB;AAAAA,IACpC;AAAA,EAAA,CACD;AACK,QAAA;AAAA,IAAEC;AAAAA,EAAAA,IAAeC,SAASzB,OAAOgB,OAAOC,UAAU,CAACS,MAAeA,CAAC;AAEnE,QAAA;AAAA,IAAEN,OAAOZ;AAAAA,IAAS,GAAGmB;AAAAA,EAAmBH,IAAAA;AACxC,QAAA;AAAA,IAAEI;AAAAA,IAAUC,UAAUC;AAAAA,IAAG1B,UAAU2B;AAAAA,IAAI,GAAGC;AAAAA,EAAchC,IAAAA;AAC9DiC,uBAAqBnB,IAAI,QAAQ;AAE/B,SAAA,oBAAC,mBACC,SACA,KAAKc,UACDD,GAAAA,gBACJ,GAAIK,UACJ,CAAA;AAEN;"}