{"version":3,"file":"useSelectState.js","sources":["../../../../src/state/components/select/useSelectState.ts"],"sourcesContent":["import { Dispatch, useMemo, useReducer } from \"react\";\n\nimport { useStateSetters } from \"state/components/input/useStateSetters\";\nimport { ComponentType, useSyncComponentState } from \"state/context/context\";\n\nimport { Action, reducer } from \"./reducer\";\nimport { InitialSelectState, SelectState } from \"./state\";\n\nexport type SelectHookOptions = {\n  initialState?: InitialSelectState;\n};\n\n/**\n * useSelectState is a hook that creates and manages a Select's state on the\n * Airplane context\n */\nexport const useSelectState = (\n  id: string,\n  options?: SelectHookOptions,\n): { state: SelectState; dispatch: Dispatch<Action> } => {\n  const initialState = {\n    value: options?.initialState?.value,\n    disabled: options?.initialState?.disabled ?? false,\n  };\n  const [internalState, dispatch] = useReducer(reducer, {\n    ...initialState,\n    showErrors: false,\n    errors: [],\n  });\n  const stateSetters = useStateSetters(dispatch, initialState);\n\n  const state: SelectState = useMemo(\n    () => ({\n      ...internalState,\n      ...stateSetters,\n      id,\n      componentType: ComponentType.Select,\n    }),\n    [internalState, id, stateSetters],\n  );\n  useSyncComponentState(id, state);\n\n  return { state, dispatch };\n};\n"],"names":["useSelectState","id","options","initialState","value","disabled","internalState","dispatch","useReducer","reducer","showErrors","errors","stateSetters","useStateSetters","state","useMemo","componentType","ComponentType","Select","useSyncComponentState"],"mappings":";;;;AAgBaA,MAAAA,iBAAiBA,CAC5BC,IACAC,YACuD;;AACvD,QAAMC,eAAe;AAAA,IACnBC,QAAOF,wCAASC,iBAATD,mBAAuBE;AAAAA,IAC9BC,YAAUH,wCAASC,iBAATD,mBAAuBG,aAAY;AAAA,EAAA;AAE/C,QAAM,CAACC,eAAeC,QAAQ,IAAIC,WAAWC,SAAS;AAAA,IACpD,GAAGN;AAAAA,IACHO,YAAY;AAAA,IACZC,QAAQ,CAAA;AAAA,EAAA,CACT;AACKC,QAAAA,eAAeC,gBAAgBN,UAAUJ,YAAY;AAErDW,QAAAA,QAAqBC,QACzB,OAAO;AAAA,IACL,GAAGT;AAAAA,IACH,GAAGM;AAAAA,IACHX;AAAAA,IACAe,eAAeC,cAAcC;AAAAA,EAE/B,IAAA,CAACZ,eAAeL,IAAIW,YAAY,CAClC;AACAO,wBAAsBlB,IAAIa,KAAK;AAExB,SAAA;AAAA,IAAEA;AAAAA,IAAOP;AAAAA,EAAAA;AAClB;"}