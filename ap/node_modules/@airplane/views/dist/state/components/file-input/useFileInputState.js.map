{"version":3,"file":"useFileInputState.js","sources":["../../../../src/state/components/file-input/useFileInputState.ts"],"sourcesContent":["import { useMemo, useReducer } from \"react\";\n\nimport { useStateSetters } from \"state/components/input/useStateSetters\";\nimport { ComponentType, useSyncComponentState } from \"state/context/context\";\n\nimport { reducer } from \"./reducer\";\nimport { InitialFileInputState, FileInputState } from \"./state\";\n\nexport type FileInputHookOptions = {\n  initialState: InitialFileInputState;\n};\n\n/**\n * useFileInputState is a hook that creates and manages an FileInput's state on the\n * Airplane context\n */\nexport const useFileInputState = (\n  id: string,\n  options: FileInputHookOptions,\n) => {\n  const initialState = {\n    value: options.initialState.initialValue,\n    disabled: options.initialState.disabled ?? false,\n  };\n  const [internalState, dispatch] = useReducer(reducer, {\n    ...initialState,\n    showErrors: false,\n    errors: [],\n  });\n  const stateSetters = useStateSetters(dispatch, initialState);\n\n  const state: FileInputState = useMemo(\n    () => ({\n      ...internalState,\n      ...stateSetters,\n      id,\n      componentType: ComponentType.FileInput,\n    }),\n    [internalState, stateSetters, id],\n  );\n  useSyncComponentState(id, state);\n\n  return { state, dispatch };\n};\n"],"names":["useFileInputState","id","options","initialState","value","initialValue","disabled","internalState","dispatch","useReducer","reducer","showErrors","errors","stateSetters","useStateSetters","state","useMemo","componentType","ComponentType","FileInput","useSyncComponentState"],"mappings":";;;;AAgBaA,MAAAA,oBAAoBA,CAC/BC,IACAC,YACG;AACH,QAAMC,eAAe;AAAA,IACnBC,OAAOF,QAAQC,aAAaE;AAAAA,IAC5BC,UAAUJ,QAAQC,aAAaG,YAAY;AAAA,EAAA;AAE7C,QAAM,CAACC,eAAeC,QAAQ,IAAIC,WAAWC,SAAS;AAAA,IACpD,GAAGP;AAAAA,IACHQ,YAAY;AAAA,IACZC,QAAQ,CAAA;AAAA,EAAA,CACT;AACKC,QAAAA,eAAeC,gBAAgBN,UAAUL,YAAY;AAErDY,QAAAA,QAAwBC,QAC5B,OAAO;AAAA,IACL,GAAGT;AAAAA,IACH,GAAGM;AAAAA,IACHZ;AAAAA,IACAgB,eAAeC,cAAcC;AAAAA,EAE/B,IAAA,CAACZ,eAAeM,cAAcZ,EAAE,CAClC;AACAmB,wBAAsBnB,IAAIc,KAAK;AAExB,SAAA;AAAA,IAAEA;AAAAA,IAAOP;AAAAA,EAAAA;AAClB;"}