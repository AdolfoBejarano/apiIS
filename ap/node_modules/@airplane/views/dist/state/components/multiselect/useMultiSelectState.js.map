{"version":3,"file":"useMultiSelectState.js","sources":["../../../../src/state/components/multiselect/useMultiSelectState.ts"],"sourcesContent":["import { Dispatch, useMemo, useReducer } from \"react\";\n\nimport { useStateSetters } from \"state/components/input/useStateSetters\";\nimport { ComponentType, useSyncComponentState } from \"state/context/context\";\n\nimport { Action, reducer } from \"./reducer\";\nimport { InitialMultiSelectState, MultiSelectState } from \"./state\";\n\nexport type MultiSelectHookOptions = {\n  initialState?: InitialMultiSelectState;\n};\n\nconst INITIAL_VALUE: (string | number)[] = [];\n\n/**\n * useMultiSelectState is a hook that creates and manages a MultiSelect's state on the\n * Airplane context\n */\nexport const useMultiSelectState = (\n  id: string,\n  options?: MultiSelectHookOptions,\n): { state: MultiSelectState; dispatch: Dispatch<Action> } => {\n  const initialState = {\n    value: options?.initialState?.value ?? INITIAL_VALUE,\n    disabled: options?.initialState?.disabled ?? false,\n  };\n  const [internalState, dispatch] = useReducer(reducer, {\n    ...initialState,\n    showErrors: false,\n    errors: [],\n  });\n  const stateSetters = useStateSetters(dispatch, initialState);\n\n  const state: MultiSelectState = useMemo(\n    () => ({\n      ...internalState,\n      ...stateSetters,\n      id,\n      componentType: ComponentType.MultiSelect,\n    }),\n    [internalState, id, stateSetters],\n  );\n  useSyncComponentState(id, state);\n\n  return { state, dispatch };\n};\n"],"names":["INITIAL_VALUE","useMultiSelectState","id","options","initialState","value","disabled","internalState","dispatch","useReducer","reducer","showErrors","errors","stateSetters","useStateSetters","state","useMemo","componentType","ComponentType","MultiSelect","useSyncComponentState"],"mappings":";;;;AAYA,MAAMA,gBAAqC,CAAA;AAM9BC,MAAAA,sBAAsBA,CACjCC,IACAC,YAC4D;;AAC5D,QAAMC,eAAe;AAAA,IACnBC,SAAOF,wCAASC,iBAATD,mBAAuBE,UAASL;AAAAA,IACvCM,YAAUH,wCAASC,iBAATD,mBAAuBG,aAAY;AAAA,EAAA;AAE/C,QAAM,CAACC,eAAeC,QAAQ,IAAIC,WAAWC,SAAS;AAAA,IACpD,GAAGN;AAAAA,IACHO,YAAY;AAAA,IACZC,QAAQ,CAAA;AAAA,EAAA,CACT;AACKC,QAAAA,eAAeC,gBAAgBN,UAAUJ,YAAY;AAErDW,QAAAA,QAA0BC,QAC9B,OAAO;AAAA,IACL,GAAGT;AAAAA,IACH,GAAGM;AAAAA,IACHX;AAAAA,IACAe,eAAeC,cAAcC;AAAAA,EAE/B,IAAA,CAACZ,eAAeL,IAAIW,YAAY,CAClC;AACAO,wBAAsBlB,IAAIa,KAAK;AAExB,SAAA;AAAA,IAAEA;AAAAA,IAAOP;AAAAA,EAAAA;AAClB;"}