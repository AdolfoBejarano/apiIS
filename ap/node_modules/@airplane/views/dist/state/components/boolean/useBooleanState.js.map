{"version":3,"file":"useBooleanState.js","sources":["../../../../src/state/components/boolean/useBooleanState.ts"],"sourcesContent":["import { Dispatch, useMemo, useReducer } from \"react\";\n\nimport { useStateSetters } from \"state/components/input/useStateSetters\";\nimport { useSyncComponentState, ComponentType } from \"state/context/context\";\n\nimport { Action, reducer } from \"./reducer\";\nimport { BooleanState, InitialBooleanState } from \"./state\";\n\nexport type BooleanHookOptions = {\n  initialState?: InitialBooleanState;\n};\n\nexport const getUseBooleanState =\n  (componentType: ComponentType.Switch | ComponentType.Checkbox) =>\n  (\n    id: string,\n    options?: BooleanHookOptions,\n  ): { state: BooleanState; dispatch: Dispatch<Action> } => {\n    const initialState = {\n      value: options?.initialState?.value ?? false,\n      disabled: options?.initialState?.disabled ?? false,\n    };\n    const [internalState, dispatch] = useReducer(reducer, {\n      ...initialState,\n      showErrors: false,\n      errors: [],\n    });\n    const stateSetters = useStateSetters(dispatch, initialState);\n\n    const state: BooleanState = useMemo(\n      () => ({\n        ...internalState,\n        ...stateSetters,\n        checked: internalState.value || false,\n        setChecked: stateSetters.setValue,\n        id,\n        componentType,\n      }),\n      [internalState, id, stateSetters],\n    );\n    useSyncComponentState(id, state);\n\n    return { state, dispatch };\n  };\n\nexport const useSwitchState = getUseBooleanState(ComponentType.Switch);\nexport const useCheckboxState = getUseBooleanState(ComponentType.Checkbox);\n"],"names":["getUseBooleanState","componentType","id","options","initialState","value","disabled","internalState","dispatch","useReducer","reducer","showErrors","errors","stateSetters","useStateSetters","state","useMemo","checked","setChecked","setValue","useSyncComponentState","useSwitchState","ComponentType","Switch","useCheckboxState","Checkbox"],"mappings":";;;;AAYO,MAAMA,qBACXA,CAACC,kBACD,CACEC,IACAC,YACwD;;AACxD,QAAMC,eAAe;AAAA,IACnBC,SAAOF,wCAASC,iBAATD,mBAAuBE,UAAS;AAAA,IACvCC,YAAUH,wCAASC,iBAATD,mBAAuBG,aAAY;AAAA,EAAA;AAE/C,QAAM,CAACC,eAAeC,QAAQ,IAAIC,WAAWC,SAAS;AAAA,IACpD,GAAGN;AAAAA,IACHO,YAAY;AAAA,IACZC,QAAQ,CAAA;AAAA,EAAA,CACT;AACKC,QAAAA,eAAeC,gBAAgBN,UAAUJ,YAAY;AAErDW,QAAAA,QAAsBC,QAC1B,OAAO;AAAA,IACL,GAAGT;AAAAA,IACH,GAAGM;AAAAA,IACHI,SAASV,cAAcF,SAAS;AAAA,IAChCa,YAAYL,aAAaM;AAAAA,IACzBjB;AAAAA,IACAD;AAAAA,EAEF,IAAA,CAACM,eAAeL,IAAIW,YAAY,CAClC;AACAO,wBAAsBlB,IAAIa,KAAK;AAExB,SAAA;AAAA,IAAEA;AAAAA,IAAOP;AAAAA,EAAAA;AAClB;AAEWa,MAAAA,iBAAiBrB,mBAAmBsB,cAAcC,MAAM;AACxDC,MAAAA,mBAAmBxB,mBAAmBsB,cAAcG,QAAQ;"}