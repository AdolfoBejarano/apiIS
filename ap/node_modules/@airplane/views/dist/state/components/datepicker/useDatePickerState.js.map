{"version":3,"file":"useDatePickerState.js","sources":["../../../../src/state/components/datepicker/useDatePickerState.ts"],"sourcesContent":["import { useMemo, useReducer } from \"react\";\n\nimport { useStateSetters } from \"state/components/input/useStateSetters\";\nimport { ComponentType, useSyncComponentState } from \"state/context/context\";\n\nimport { reducer } from \"./reducer\";\nimport { InitialDatePickerState, DatePickerState } from \"./state\";\n\nexport type DatePickerHookOptions = {\n  initialState?: InitialDatePickerState;\n};\n\n/**\n * useDatePickerState is a hook that creates and manages an DatePicker's state on the\n * Airplane context\n */\nexport const getUseDatePickerState =\n  (componentType: ComponentType.DatePicker | ComponentType.DateTimePicker) =>\n  (id: string, options?: DatePickerHookOptions) => {\n    const initialState = {\n      value: options?.initialState?.value,\n      disabled: options?.initialState?.disabled ?? false,\n    };\n    const [internalState, dispatch] = useReducer(reducer, {\n      ...initialState,\n      showErrors: false,\n      errors: [],\n    });\n    const stateSetters = useStateSetters(dispatch, initialState);\n\n    const state: DatePickerState = useMemo(\n      () => ({\n        ...internalState,\n        ...stateSetters,\n        id,\n        componentType,\n      }),\n      [internalState, stateSetters, id],\n    );\n    useSyncComponentState(id, state);\n\n    return { state, dispatch };\n  };\n\nexport const useDatePickerState = getUseDatePickerState(\n  ComponentType.DatePicker,\n);\nexport const useDateTimePickerState = getUseDatePickerState(\n  ComponentType.DateTimePicker,\n);\n"],"names":["getUseDatePickerState","componentType","id","options","initialState","value","disabled","internalState","dispatch","useReducer","reducer","showErrors","errors","stateSetters","useStateSetters","state","useMemo","useSyncComponentState","useDatePickerState","ComponentType","DatePicker","useDateTimePickerState","DateTimePicker"],"mappings":";;;;AAgBO,MAAMA,wBACXA,CAACC,kBACD,CAACC,IAAYC,YAAoC;;AAC/C,QAAMC,eAAe;AAAA,IACnBC,QAAOF,wCAASC,iBAATD,mBAAuBE;AAAAA,IAC9BC,YAAUH,wCAASC,iBAATD,mBAAuBG,aAAY;AAAA,EAAA;AAE/C,QAAM,CAACC,eAAeC,QAAQ,IAAIC,WAAWC,SAAS;AAAA,IACpD,GAAGN;AAAAA,IACHO,YAAY;AAAA,IACZC,QAAQ,CAAA;AAAA,EAAA,CACT;AACKC,QAAAA,eAAeC,gBAAgBN,UAAUJ,YAAY;AAErDW,QAAAA,QAAyBC,QAC7B,OAAO;AAAA,IACL,GAAGT;AAAAA,IACH,GAAGM;AAAAA,IACHX;AAAAA,IACAD;AAAAA,EAEF,IAAA,CAACM,eAAeM,cAAcX,EAAE,CAClC;AACAe,wBAAsBf,IAAIa,KAAK;AAExB,SAAA;AAAA,IAAEA;AAAAA,IAAOP;AAAAA,EAAAA;AAClB;AAEWU,MAAAA,qBAAqBlB,sBAChCmB,cAAcC,UAChB;AACaC,MAAAA,yBAAyBrB,sBACpCmB,cAAcG,cAChB;"}