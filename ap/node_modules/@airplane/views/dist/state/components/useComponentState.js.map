{"version":3,"file":"useComponentState.js","sources":["../../../src/state/components/useComponentState.ts"],"sourcesContent":["import { useContext, useMemo } from \"react\";\n\nimport { useComponentId } from \"./useId\";\nimport {\n  ComponentState,\n  ComponentStateContext,\n  DefaultComponentState,\n} from \"../context/context\";\n\n/**\n * useComponentState is a hook that reads state on the\n * Airplane context\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const useComponentState = <TState extends ComponentState = any>(\n  id?: string,\n): TState => {\n  const stateContext = useContext(ComponentStateContext);\n  const componentID = useComponentId(id);\n  const componentState = stateContext.components[componentID];\n  return useMemo(() => {\n    return (componentState || {\n      ...DefaultComponentState,\n      id: componentID,\n    }) as TState;\n  }, [componentState, componentID]);\n};\n\n/**\n * useComponentStates is a hook that reads the state on multiple\n * components in the Airplane context\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const useComponentStates = <TState extends ComponentState = any>(\n  ids: string[],\n): Record<string, TState> => {\n  const stateContext = useContext(ComponentStateContext);\n  return useMemo(\n    () =>\n      ids.reduce(\n        (obj, id) =>\n          Object.assign(obj, {\n            [id]: stateContext.components[id] || {\n              ...DefaultComponentState,\n              id,\n            },\n          }),\n        {},\n      ),\n    [ids, stateContext.components],\n  );\n};\n"],"names":["useComponentState","id","stateContext","useContext","ComponentStateContext","componentID","useComponentId","componentState","components","useMemo","DefaultComponentState","useComponentStates","ids","reduce","obj","Object","assign"],"mappings":";;;AAcaA,MAAAA,oBAAoB,CAC/BC,OACW;AACLC,QAAAA,eAAeC,WAAWC,qBAAqB;AAC/CC,QAAAA,cAAcC,eAAeL,EAAE;AAC/BM,QAAAA,iBAAiBL,aAAaM,WAAWH,WAAW;AAC1D,SAAOI,QAAQ,MAAM;AACnB,WAAQF,kBAAkB;AAAA,MACxB,GAAGG;AAAAA,MACHT,IAAII;AAAAA,IAAAA;AAAAA,EACN,GACC,CAACE,gBAAgBF,WAAW,CAAC;AAClC;AAOaM,MAAAA,qBAAqB,CAChCC,QAC2B;AACrBV,QAAAA,eAAeC,WAAWC,qBAAqB;AAC9CK,SAAAA,QACL,MACEG,IAAIC,OACF,CAACC,KAAKb,OACJc,OAAOC,OAAOF,KAAK;AAAA,IACjB,CAACb,EAAE,GAAGC,aAAaM,WAAWP,EAAE,KAAK;AAAA,MACnC,GAAGS;AAAAA,MACHT;AAAAA,IACF;AAAA,EAAA,CACD,GACH,CACF,CAAA,GACF,CAACW,KAAKV,aAAaM,UAAU,CAC/B;AACF;"}