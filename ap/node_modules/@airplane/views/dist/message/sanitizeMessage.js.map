{"version":3,"file":"sanitizeMessage.js","sources":["../../src/message/sanitizeMessage.ts"],"sourcesContent":["import { cloneDeepWith, isElement } from \"lodash-es\";\nimport objectInspect from \"object-inspect\";\n\nexport const FUNCTION_PREFIX = \"_function:\";\nexport const ELEMENT_PREFIX = \"_element:\";\n\n/**\n * We can't send messages with DOM nodes or functions because they will result in a\n * data clone error. sanitizeMessage recursively clones an object and replaces the\n * DOM nodes and functions with a string representation.\n **/\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const sanitizeMessage = (message: any) => {\n  return cloneDeepWith(message, (value) => {\n    if (isElement(value)) {\n      return ELEMENT_PREFIX + objectInspect(value);\n    }\n    if (typeof value === \"function\") {\n      return FUNCTION_PREFIX + objectInspect(value);\n    }\n  });\n};\n"],"names":["FUNCTION_PREFIX","ELEMENT_PREFIX","sanitizeMessage","message","cloneDeepWith","value","isElement","objectInspect"],"mappings":";;AAGO,MAAMA,kBAAkB;AACxB,MAAMC,iBAAiB;AAQjBC,MAAAA,kBAAkBA,CAACC,YAAiB;AACxCC,SAAAA,cAAcD,SAAUE,CAAU,UAAA;AACnCC,QAAAA,UAAUD,KAAK,GAAG;AACbJ,aAAAA,iBAAiBM,cAAcF,KAAK;AAAA,IAC7C;AACI,QAAA,OAAOA,UAAU,YAAY;AACxBL,aAAAA,kBAAkBO,cAAcF,KAAK;AAAA,IAC9C;AAAA,EAAA,CACD;AACH;"}