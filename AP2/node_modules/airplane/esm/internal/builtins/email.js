import { dedent } from "ts-dedent";
import { convertResourceAliasToID } from "./builtins";
import { executeWithResources } from "../execute";
export const message = async (emailResource, sender, recipients, opts = {}) => {
    const { subject, message, client } = opts;
    return executeWithResources("airplane:email_message", {
        sender,
        recipients,
        subject: subject !== null && subject !== void 0 ? subject : "",
        message: dedent(message !== null && message !== void 0 ? message : ""),
    }, { email: convertResourceAliasToID(emailResource) }, client);
};
