import { AirplaneFile } from "../file";
export const deserializeParamValues = (params, paramValues) => {
    var _a;
    const output = paramValues;
    if (!params) {
        return output;
    }
    for (const slug in params) {
        const paramValue = paramValues[slug];
        const param = params[slug];
        const multi = typeof param === "string" ? false : param.multi;
        if (multi) {
            if (!paramValue) {
                output[slug] = paramValue;
            }
            else {
                output[slug] = ((_a = paramValue) !== null && _a !== void 0 ? _a : []).map((v) => deserializeParamValue(param, v));
            }
        }
        else {
            output[slug] = deserializeParamValue(param, paramValue);
        }
    }
    return output;
};
export const deserializeParamValue = (param, paramValue) => {
    const type = typeof param === "string" ? param : param.type;
    if (paramValue != null && (type === "date" || type === "datetime")) {
        return new Date(paramValue);
    }
    else if (paramValue != null && type === "upload") {
        return new AirplaneFile(paramValue);
    }
    else {
        return paramValue;
    }
};
