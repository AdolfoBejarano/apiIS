"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deserializeParamValue = exports.deserializeParamValues = void 0;
const file_1 = require("../file");
const deserializeParamValues = (params, paramValues) => {
    var _a;
    const output = paramValues;
    if (!params) {
        return output;
    }
    for (const slug in params) {
        const paramValue = paramValues[slug];
        const param = params[slug];
        const multi = typeof param === "string" ? false : param.multi;
        if (multi) {
            if (!paramValue) {
                output[slug] = paramValue;
            }
            else {
                output[slug] = ((_a = paramValue) !== null && _a !== void 0 ? _a : []).map((v) => (0, exports.deserializeParamValue)(param, v));
            }
        }
        else {
            output[slug] = (0, exports.deserializeParamValue)(param, paramValue);
        }
    }
    return output;
};
exports.deserializeParamValues = deserializeParamValues;
const deserializeParamValue = (param, paramValue) => {
    const type = typeof param === "string" ? param : param.type;
    if (paramValue != null && (type === "date" || type === "datetime")) {
        return new Date(paramValue);
    }
    else if (paramValue != null && type === "upload") {
        return new file_1.AirplaneFile(paramValue);
    }
    else {
        return paramValue;
    }
};
exports.deserializeParamValue = deserializeParamValue;
